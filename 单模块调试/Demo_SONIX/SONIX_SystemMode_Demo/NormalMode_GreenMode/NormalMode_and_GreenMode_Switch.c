/******************************************************************************************************

File name:	 NormalMode_and_SlowMode_Switch_Main.c 
Author:		 Lian_Jin
Date：	     2011/9/07
Email:		 lian_jin@sonix.com.cn

Description: NormalMode --> GreenMode

系统模式切换节省功耗：	1、进入GreenMode或SleepMode之前，可降低功耗的做法
						2、在没有负载的情况下，一般I/O口可设置为输入上拉、输出高或输出低
						3、均可降低功耗；进入GreenMode或SleepMode之前，禁止ADC以省电；
						4、设置P4CON，避免漏电流情况出现；
________________________________________________________________________________________________________										 
--------------------------------------------------------------------------------------------------------
			EXT_V00      				2011/9/21

			Compiler Version：			V141
________________________________________________________________________________________________________
--------------------------------------------------------------------------------------------------------
Copyright (C) 2008
Sonix RomConverter - Version 2.00.001
----------------------------------------
EPROM Check Sum   : 13858 [0x3622] 
Security Check Sum: 6847 [0x1ABF] 
----------------------------------------
Rom total size : 4092 [0xFFC] words
Rom has  used  : 93 [0x5D] words			[composed by: all segments size]
Rom Remains    : 3999 [0xF9F] words
---------------------------------------
Ram total size    : 256 [0x100] bytes
RamBank0 has used :   9 [0x09 ] bytes			[composed by: Ram hole + all data segments size]
RamBank0 remains  : 119 [0x77 ] bytes
RamBank1 has used :   0 [0x00 ] bytes			[composed by: Ram hole + all data segments size]
RamBank1 remains  : 128 [0x80 ] bytes
---------------------------------------
【修改记录】：无
*******************************************************************************************************/

//------------------------------------------------------------------------------------------------------

#include	<SN8p2708A.h>

void	InitalSystem(void);
void	Premain(void);
void	Delay_20ms(void);

//------------------------------------------------------------------------------------------------------

/*******************************************************************************************************
*****************************************主  程  序*****************************************************
*******************************************************************************************************/
void	main(void)
{
	InitalSystem();
	Premain();
	
	while(1)
	{
		WDTR = 0x5A;	
/*------------------------------------------------------------------------------------------------------	
		NormalMode -->GreenMode
		或者使用宏命令的方式：“GREEDMODE”
------------------------------------------------------------------------------------------------------*/						
		FP20 = 1; 	
										//唤醒源：P0、P1、T0、ResetCircuit
    	FCPUM1 = 1;	
	   	NOP(2);		
	}
}


/*******************************************************************************************************
*****************************************中断服务程序***************************************************
*******************************************************************************************************/
__interrupt	isr(void)
{
	/***中断服务程序***/
}


/*******************************************************************************************************
系统初始化程序：	void	InitalSystem(void)
程  序  功  能：	初始化T0
*******************************************************************************************************/
void	InitalSystem(void)
{
	P1W = 0xFF;			//使能P1唤醒功能
}


/*******************************************************************************************************
参数预设程序：	void	Premain(void)
程  序 功 能：	预设用到的参数		
*******************************************************************************************************/
void	Premain(void)
{
	/************/	
}

