/*******************************************************************************************************
File name:		InitalSys.c
Author:			Lian_Jin
Email:			lian_jin@sonix.com.cn
Date：			2011/10/25
Description:	系统初始化 
*******************************************************************************************************/

//------------------------------------------------------------------------------------------------------
#include	"User.h"

//------------------------------------------------------------------------------------------------------

/*******************************************************************************************************
名 称：	void	InitalSystem(void)
功 能： 初始化系统资源
*******************************************************************************************************/
void	InitalSystem(void)
{
/*------------------------------------------------------------------------------------------------------
	Inital I/O		
-------------------------------------------------------------------------------------------------------*/
	P0M = 0X00; 
	P1M = 0X00;
	P4M = 0X00;	
	P5M = 0X00;

	P0UR = 0XFF;
	P1UR = 0XDF;
	P4UR = 0XFF;
	P5UR = 0XFF;

	FP17M = 1;			//SCS
	FP16M = 1;			//SCK
	FP15M = 0;			//SDI
	FP14M = 1; 			//SDO
	
	SCS = 0;

/*------------------------------------------------------------------------------------------------------
	Inital	SIO Module
--------------------------------------------------------------------------------------------------------	
	
		___________________________________________________________________________
		SIOM||	Bit7 |	Bit6  |	 Bit5   |  Bit4	 |	Bit3  | Bit2   | Bit1 |	 Bit0
			||	FSENB|	FSTART|	 FSRATE1| FSRATE0|	FMLSB |	FSCKMD | FCPOL|	 FCPHA	 
		---------------------------------------------------------------------------
		SIOC|| 	-	 |	  -	  |	   -	|	 - 	 |	  -	  |	Bit2   | Bit1 |  Bit0
			||	-	 |	  -	  |	   -	|	 -	 |	  -	  |	FSIOBZ |FSCSEN|	 FSCSP 
		---------------------------------------------------------------------------
	
		SIO时钟频率：___________________________________
					|									|
					|	SIOR = 256-Fcpu/(2*SIO时钟频率) |
					-------------------------------------
-------------------------------------------------------------------------------------------------------*/
	SIOM = 0X00;
	SIOC = 0X00;	//禁止芯片选择功能
	SIOB = 0X00;
	SIOR = 255;		//SIO频率1MHz;
/*------------------------------------------------------------------------------------------------------
		Inital Interrupt
-------------------------------------------------------------------------------------------------------*/



/*------------------------------------------------------------------------------------------------------
		Inital I/O	
-------------------------------------------------------------------------------------------------------*/

}



